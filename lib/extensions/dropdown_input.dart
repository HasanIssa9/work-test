import 'package:dropdown_button2/dropdown_button2.dart';import 'package:firebase_database/firebase_database.dart';import 'package:flutter/material.dart';class DropdownInput extends StatefulWidget {  DropdownInput({    super.key,    this.isCou = false,    this.isEmp = false,    required this.onChanged,  });  final bool isCou;  final bool isEmp;  final Function(String?) onChanged;  @override  State<DropdownInput> createState() => _DropdownInputState();}class _DropdownInputState extends State<DropdownInput> {  final dbcou = FirebaseDatabase.instance.ref().child('countries');  final dbemp = FirebaseDatabase.instance.ref().child('employees');  final dbspe = FirebaseDatabase.instance.ref().child('specializations');  List<String>? items = [];  dropdownData() async {    DatabaseReference qurey = (widget.isCou)        ? dbcou        : (widget.isEmp)            ? dbemp            : dbspe;    await qurey.onValue.listen((event) {      final data = Map<String, dynamic>.from(        event.snapshot.value as Map,      );      data.forEach((key, value) {        items!.add(value['text'].toString());      });    });    return [];  }  @override  void initState() {    dropdownData();    super.initState();  }  @override  Widget build(BuildContext context) {    return Row(      mainAxisAlignment: MainAxisAlignment.spaceBetween,      children: [        Container(            width: MediaQuery.sizeOf(context).width * 0.6,            height: 60,            child: DropdownButtonFormField2(              dropdownStyleData: DropdownStyleData(                  maxHeight: 200,                  width: MediaQuery.sizeOf(context).width * 0.51,                  decoration:                      BoxDecoration(borderRadius: BorderRadius.circular(16))),              decoration: InputDecoration(                iconColor: Colors.lightGreen,                icon: (widget.isCou)                    ? const Icon(Icons.flag)                    : (widget.isEmp)                        ? const Icon(Icons.person)                        : const Icon(Icons.tune),                hintText: (widget.isCou)                    ? 'أختر دولة: '                    : (widget.isEmp)                        ? 'أختر موظف: '                        : 'أختر اختصاص: ',                hintStyle: const TextStyle(                  fontSize: 18,                  fontWeight: FontWeight.bold,                ),                hoverColor: Colors.transparent,                enabledBorder: OutlineInputBorder(                  borderSide: const BorderSide(                    color: Colors.lightGreen,                    width: 2,                  ),                  borderRadius: BorderRadius.circular(16),                ),                border: OutlineInputBorder(                  borderSide: const BorderSide(),                  borderRadius: BorderRadius.circular(16),                ),              ),              isExpanded: true,              items: items!                  .map((item) => DropdownMenuItem(                        alignment: Alignment.centerRight,                        value: item,                        child: Text(                          item,                          style: const TextStyle(                            fontSize: 14,                          ),                        ),                      ))                  .toList(),              validator: (value) {                if (value == null) {                  return 'هذا الحقل مطلوب';                }              },              onChanged: widget.onChanged,            )),        ElevatedButton.icon(            onPressed: () {},            icon: const Icon(Icons.add),            label: const Text('اضافة'))      ],    );  }}